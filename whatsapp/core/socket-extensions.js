function _0x21e2(_0x2417a6,_0x4eaf28){_0x2417a6=_0x2417a6-0x1d2;const _0x390f98=_0x390f();let _0x21e298=_0x390f98[_0x2417a6];return _0x21e298;}const _0x38813d=_0x21e2;function _0x390f(){const _0x23a195=['isVideo','default','kick','gpt','length','parse','1843500tWZTrk','message','vip','buffer','lidMapping','sessionId','get','toBuffer','updateMediaMessage','env','chat','Error\x20sending\x20sticker\x20pack:','User','7hEMoNq','resize','recipient-not-found','participant','imageMessage','groupMetadata','_originalGroupMetadata','âœ…\x20Bot\x20logo\x20thumbnail\x20loaded','*ðŸ”„\x20ð•¹ð–Šð–ð–šð–˜\x20ð•­ð–”ð–™\x20-\x20Media\x20Converter*','sort','commandName','bin','*ðŸ”\x20ð•¹ð–Šð–ð–šð–˜\x20ð•­ð–”ð–™\x20-\x20Search\x20Hub*','Send\x20failed\x20(attempt\x20','url','remoteJid','lanczos3','sendMessage\x20timeout','7554528xcVFcT','getLidForPn','66BFOFTE','info','getPNForLID','react','Message\x20sent\x20to\x20','120363422827915475@newsletter','432028iIhSZs','signalRepository','âœ…\x20Socket\x20fully\x20extended','base64','Extending\x20socket\x20with\x20optimized\x20fake\x20quoted\x20system','*ðŸ‘‘\x20ð•¹ð–Šð–ð–šð–˜\x20ð•­ð–”ð–™\x20-\x20Owner\x20Panel*','sendVideoAsSticker','fakeQuotedType','data','isArray','menu.png','from','video','text','17548kQDVgj','.webp','image/gif','Failed\x20after\x20','NEXUSBOT','toString','ownermenu','groupMetadataRefresh','writeFileSync','Error\x20determining\x20fake\x20quoted\x20preset:','Loading\x20bot\x20logo\x20from:\x20','images','audio','WHATSAPP_CHANNEL_JID','sendDocument','audio/mpeg','85311oOVmGs','55mIhQcz','getLIDForPN','stickerMessage','caption','download','defaults','vipmenu','emojis','isOwner','center','Sticker\x20sender\x20error:','includes','sendVideo','owner','.jpg','audioMessage','\x20error:','1933044hMLDcO','../core/config.js','cwd','downloadMedia\x20error:','sendMediaAsSticker\x20error:','sendDocument\x20error:','test','pluginCategory','dirname','getPnForLid','.mp4','*ðŸ”§\x20ð•¹ð–Šð–ð–šð–˜\x20ð•­ð–”ð–™\x20-\x20Tool\x20Center*','some','sendImageAsSticker','\x0a\x0a*Replied\x20to\x20','rate-overlimit','.mp3','convertmenu','conversation','index','arraybuffer','0@s.whatsapp.net','logo.png','assets','mime','*âœ¨\x20ð•¹ð–Šð–ð–šð–˜\x20ð•­ð–”ð–™*','sendMessage','accessibilityLabel','endsWith','*ðŸ’Ž\x20ð•¹ð–Šð–ð–šð–˜\x20ð•­ð–”ð–™\x20-\x20VIP\x20Access*','key','_extended','map','pushName','990wdtfTu','Defaults','warn','Custom\x20Sticker\x20Pack','filter','isAnimated','error','contextInfo','invalid-jid','resolve','ð•¹ð–Šð–ð–šð–˜\x20ð•­ð–”ð–™','bind','âœ…\x20Sent\x20','3jgesrn','SOCKET_EXTENSIONS','sendStickerPack','groupmenu','quoted','downloadmenu','),\x20retrying\x20in\x20','documentMessage','cover','kernel','debug','aimenu','@g.us','string','5514968fxKeMi','forbidden','reply','Failed\x20to\x20load\x20bot\x20logo:','readFileSync','\x20attempts:\x20','toLowerCase','video/','Error\x20loading\x20bot\x20logo:','Rate\x20limited,\x20retrying\x20without\x20mentions\x20for\x20','sticker','*ðŸ¤–\x20ð•¹ð–Šð–ð–šð–˜\x20ð•­ð–”ð–™\x20-\x20AI\x20Assistant*','videoMessage','gamemenu','mentions','stringify','png','*ðŸ“¥\x20ð•¹ð–Šð–ð–šð–˜\x20ð•­ð–”ð–™\x20-\x20Media\x20Downloader*','âš ï¸\x20No\x20bot\x20logo\x20found'];_0x390f=function(){return _0x23a195;};return _0x390f();}(function(_0x3861ea,_0x41569b){const _0x4b412e=_0x21e2,_0x30f5fe=_0x3861ea();while(!![]){try{const _0x23a9c5=-parseInt(_0x4b412e(0x20b))/0x1*(-parseInt(_0x4b412e(0x1fa))/0x2)+-parseInt(_0x4b412e(0x24b))/0x3*(parseInt(_0x4b412e(0x1ec))/0x4)+parseInt(_0x4b412e(0x272))/0x5+-parseInt(_0x4b412e(0x1e4))/0x6+parseInt(_0x4b412e(0x1d2))/0x7*(-parseInt(_0x4b412e(0x259))/0x8)+-parseInt(_0x4b412e(0x20a))/0x9*(-parseInt(_0x4b412e(0x23e))/0xa)+parseInt(_0x4b412e(0x1e6))/0xb*(parseInt(_0x4b412e(0x21c))/0xc);if(_0x23a9c5===_0x41569b)break;else _0x30f5fe['push'](_0x30f5fe['shift']());}catch(_0xcd12da){_0x30f5fe['push'](_0x30f5fe['shift']());}}}(_0x390f,0xaad63));import{createComponentLogger}from'../../utils/logger.js';import{downloadMediaMessage}from'@nexustechpro/baileys';import{image2webp,video2webp,getTempFilePath,cleanupTempFile}from'../../lib/converters/media-converter.js';import{fileTypeFromBuffer}from'file-type';import _0x5f5489 from'axios';import _0x4ba07d from'fs';import _0x13ebd1 from'path';import{fileURLToPath}from'url';import _0x43bac3 from'sharp';const __filename=fileURLToPath(import.meta.url),__dirname=_0x13ebd1[_0x38813d(0x224)](__filename),logger=createComponentLogger(_0x38813d(0x24c)),PRESET_CAPTIONS={'ownermenu':_0x38813d(0x1f1),'vipmenu':_0x38813d(0x239),'groupmenu':'*ðŸ›¡ï¸\x20ð•¹ð–Šð–ð–šð–˜\x20ð•­ð–”ð–™\x20-\x20Group\x20Control*','downloadmenu':_0x38813d(0x26a),'aimenu':_0x38813d(0x264),'toolmenu':_0x38813d(0x227),'searchmenu':_0x38813d(0x1de),'gamemenu':'*ðŸŽ®\x20ð•¹ð–Šð–ð–šð–˜\x20ð•­ð–”ð–™\x20-\x20Game\x20Center*','convertmenu':_0x38813d(0x1da),'mainmenu':_0x38813d(0x235),'default':'*ðŸ¤–\x20ð•¹ð–Šð–ð–šð–˜\x20ð•­ð–”ð–™*'};let BOT_LOGO_THUMBNAIL=null;async function loadBotLogoThumbnail(){const _0x3f2e85=_0x38813d;try{const _0x377d83=[_0x13ebd1['resolve'](process[_0x3f2e85(0x21e)](),_0x3f2e85(0x23f),_0x3f2e85(0x205),_0x3f2e85(0x1f6)),_0x13ebd1[_0x3f2e85(0x247)](process[_0x3f2e85(0x21e)](),_0x3f2e85(0x210),'images','menu.png'),_0x13ebd1[_0x3f2e85(0x247)](process[_0x3f2e85(0x21e)](),_0x3f2e85(0x233),_0x3f2e85(0x205),_0x3f2e85(0x1f6)),_0x13ebd1['resolve'](process[_0x3f2e85(0x21e)](),_0x3f2e85(0x23f),'images',_0x3f2e85(0x232)),_0x13ebd1['resolve'](process[_0x3f2e85(0x21e)](),'assets','logo.png')];for(const _0xeee6b9 of _0x377d83){if(_0x4ba07d['existsSync'](_0xeee6b9)){logger[_0x3f2e85(0x255)](_0x3f2e85(0x204)+_0xeee6b9);const _0x5094db=await _0x43bac3(_0xeee6b9)[_0x3f2e85(0x1d3)](0xc8,0xc8,{'fit':_0x3f2e85(0x253),'position':_0x3f2e85(0x214),'kernel':_0x43bac3[_0x3f2e85(0x254)][_0x3f2e85(0x1e2)]})[_0x3f2e85(0x269)]({'quality':0x64,'compressionLevel':0x0,'adaptiveFiltering':![],'palette':![]})[_0x3f2e85(0x279)]();return BOT_LOGO_THUMBNAIL=_0x5094db[_0x3f2e85(0x1ff)](_0x3f2e85(0x1ef)),logger[_0x3f2e85(0x1e7)](_0x3f2e85(0x1d9)),BOT_LOGO_THUMBNAIL;}}return logger['warn'](_0x3f2e85(0x26b)),null;}catch(_0x329fd6){return logger[_0x3f2e85(0x244)](_0x3f2e85(0x261),_0x329fd6[_0x3f2e85(0x273)]),null;}}loadBotLogoThumbnail()['catch'](_0x32ec97=>logger['error'](_0x38813d(0x25c),_0x32ec97));const createFakeQuoted=(_0x5e7aa1=_0x38813d(0x26d),_0x56faaf={})=>{const _0x2b0209=_0x38813d,_0x4a517c=PRESET_CAPTIONS[_0x5e7aa1]||PRESET_CAPTIONS[_0x2b0209(0x26d)],_0x11e38a={'key':{'participant':_0x2b0209(0x231),'remoteJid':_0x2b0209(0x231)},'message':BOT_LOGO_THUMBNAIL?{'imageMessage':{'caption':_0x4a517c,'jpegThumbnail':BOT_LOGO_THUMBNAIL}}:{'conversation':_0x4a517c}};return{..._0x11e38a,..._0x56faaf};},getFakeQuotedForContext=(_0x4718c8,_0x1a6083={})=>{const _0x45df4d=_0x38813d;try{if(_0x1a6083[_0x45df4d(0x1f3)])return createFakeQuoted(_0x1a6083['fakeQuotedType']);if(_0x4718c8[_0x45df4d(0x223)])return createFakeQuoted(_0x4718c8[_0x45df4d(0x223)]);if(_0x4718c8[_0x45df4d(0x1dc)]){const _0x36a42b=_0x4718c8['commandName'][_0x45df4d(0x25f)]();if(_0x36a42b['includes'](_0x45df4d(0x218))||_0x36a42b['includes']('eval'))return createFakeQuoted('ownermenu');if(_0x36a42b[_0x45df4d(0x216)](_0x45df4d(0x274)))return createFakeQuoted(_0x45df4d(0x211));if(_0x36a42b[_0x45df4d(0x216)]('group')||_0x36a42b[_0x45df4d(0x216)]('anti')||_0x36a42b[_0x45df4d(0x216)](_0x45df4d(0x26e)))return createFakeQuoted('groupmenu');if(_0x36a42b[_0x45df4d(0x216)](_0x45df4d(0x20f))||_0x36a42b[_0x45df4d(0x216)]('dl')||_0x36a42b['includes'](_0x45df4d(0x1f8)))return createFakeQuoted(_0x45df4d(0x250));if(_0x36a42b['includes']('ai')||_0x36a42b[_0x45df4d(0x216)](_0x45df4d(0x26f))||_0x36a42b['includes'](_0x45df4d(0x27c)))return createFakeQuoted(_0x45df4d(0x256));if(_0x36a42b['includes']('game'))return createFakeQuoted(_0x45df4d(0x266));if(_0x36a42b[_0x45df4d(0x216)](_0x45df4d(0x263))||_0x36a42b['includes']('convert'))return createFakeQuoted(_0x45df4d(0x22d));}if(_0x4718c8['isCreator']||_0x4718c8[_0x45df4d(0x213)])return createFakeQuoted(_0x45df4d(0x200));if(_0x4718c8['isGroup'])return createFakeQuoted(_0x45df4d(0x24e));return createFakeQuoted(_0x45df4d(0x26d));}catch(_0x4539f1){return logger[_0x45df4d(0x244)](_0x45df4d(0x203),_0x4539f1),createFakeQuoted('default');}},sleep=_0x3ea63b=>new Promise(_0xe51da1=>setTimeout(_0xe51da1,_0x3ea63b)),addForwardInfo=_0x561e74=>{const _0x32c729=_0x38813d,_0x32eda6=process[_0x32c729(0x27b)][_0x32c729(0x207)]||_0x32c729(0x1eb),_0x44602a=_0x32c729(0x248);return{'forwardingScore':0x1,'isForwarded':!![],'forwardedNewsletterMessageInfo':{'newsletterJid':_0x32eda6,'newsletterName':_0x44602a,'serverMessageId':-0x1}};},processSticker=async(_0xaef514,_0x2aea13,_0x1a0e08)=>{const _0x39b4fa=_0x38813d;try{let _0xe49a39=_0xaef514[_0x39b4fa(0x275)]||_0xaef514;if(_0xaef514[_0x39b4fa(0x1e0)]||typeof _0xe49a39===_0x39b4fa(0x258)&&/^https?:\/\//[_0x39b4fa(0x222)](_0xe49a39)){const _0x3b2b02=await _0x5f5489[_0x39b4fa(0x278)](_0xaef514[_0x39b4fa(0x1e0)]||_0xe49a39,{'responseType':'arraybuffer','timeout':0x7530});_0xe49a39=Buffer[_0x39b4fa(0x1f7)](_0x3b2b02['data']);}const _0x5abdbc=await fileTypeFromBuffer(_0xe49a39),_0x5a976f=_0x5abdbc?.['mime']||'',_0xb689ce=_0xaef514[_0x39b4fa(0x26c)]||_0x5a976f['startsWith'](_0x39b4fa(0x260))||_0x5a976f===_0x39b4fa(0x1fc),_0x2fd1b8=_0xb689ce?await video2webp(_0xe49a39):await image2webp(_0xe49a39);return{'buffer':_0x2fd1b8,'emojis':_0xaef514[_0x39b4fa(0x212)]||['ðŸ˜Š'],'isAnimated':_0xb689ce,'accessibilityLabel':_0xaef514[_0x39b4fa(0x237)],'index':_0x2aea13};}catch(_0x8b8a42){return logger[_0x39b4fa(0x244)]('Error\x20processing\x20sticker\x20'+_0x2aea13+'/'+_0x1a0e08+':\x20'+_0x8b8a42[_0x39b4fa(0x273)]),null;}},processStickersConcurrently=async(_0x339d14,_0x3d8954=0x5)=>{const _0x5b229f=_0x38813d,_0x4c72aa=[];for(let _0x14625f=0x0;_0x14625f<_0x339d14[_0x5b229f(0x270)];_0x14625f+=_0x3d8954){const _0x30f9fb=_0x339d14['slice'](_0x14625f,_0x14625f+_0x3d8954),_0xb4ebfc=_0x30f9fb['map']((_0xc62671,_0x54882f)=>processSticker(_0xc62671,_0x14625f+_0x54882f,_0x339d14['length'])),_0x2fac87=await Promise['all'](_0xb4ebfc);_0x4c72aa['push'](..._0x2fac87[_0x5b229f(0x242)](Boolean));}return _0x4c72aa[_0x5b229f(0x1db)]((_0x3d04a8,_0x35b41d)=>_0x3d04a8[_0x5b229f(0x22f)]-_0x35b41d['index']),_0x4c72aa;};export function extendSocket(_0x25f8d3){const _0x28b703=_0x38813d;if(!_0x25f8d3||_0x25f8d3[_0x28b703(0x23b)])return _0x25f8d3;logger[_0x28b703(0x255)](_0x28b703(0x1f0));const _0x57fd6c=_0x25f8d3[_0x28b703(0x236)][_0x28b703(0x249)](_0x25f8d3),_0x43260d=0x2;_0x25f8d3['sendMessage']=async(_0x3886d5,_0x1a8d88,_0x1cbd77={})=>{const _0xbb5e15=_0x28b703;let _0xfa49a6=null;const _0x3c9b4c=_0x3886d5['endsWith'](_0xbb5e15(0x257)),_0x206e89=addForwardInfo();let _0x3373cf=createFakeQuoted(_0xbb5e15(0x26d));if(_0x1cbd77[_0xbb5e15(0x24f)]){_0x3373cf=getFakeQuotedForContext(_0x1cbd77[_0xbb5e15(0x24f)],_0x1cbd77);if(_0x3c9b4c&&_0x1cbd77[_0xbb5e15(0x24f)]['key']?.[_0xbb5e15(0x1d5)]){const _0x3ddc71=_0x1cbd77[_0xbb5e15(0x24f)][_0xbb5e15(0x23a)][_0xbb5e15(0x1d5)],_0x4de7d7=_0x1cbd77[_0xbb5e15(0x24f)][_0xbb5e15(0x23d)]||_0xbb5e15(0x27e);_0x3373cf=JSON[_0xbb5e15(0x271)](JSON[_0xbb5e15(0x268)](_0x3373cf));if(_0x3373cf[_0xbb5e15(0x273)][_0xbb5e15(0x1d6)])_0x3373cf[_0xbb5e15(0x273)][_0xbb5e15(0x1d6)][_0xbb5e15(0x20e)]+=_0xbb5e15(0x22a)+_0x4de7d7+'*';else _0x3373cf[_0xbb5e15(0x273)][_0xbb5e15(0x22e)]&&(_0x3373cf[_0xbb5e15(0x273)][_0xbb5e15(0x22e)]+=_0xbb5e15(0x22a)+_0x4de7d7+'*');}_0x1cbd77['quoted']=_0x3373cf;}else _0x1cbd77['quoted']=createFakeQuoted(_0xbb5e15(0x26d));if(_0x1a8d88[_0xbb5e15(0x1f9)]||_0x1a8d88[_0xbb5e15(0x20e)]){if(!_0x1a8d88[_0xbb5e15(0x245)])_0x1a8d88[_0xbb5e15(0x245)]={};_0x1a8d88[_0xbb5e15(0x245)]={..._0x1a8d88[_0xbb5e15(0x245)],..._0x206e89};}_0x1cbd77[_0xbb5e15(0x267)]&&Array[_0xbb5e15(0x1f5)](_0x1cbd77['mentions'])&&(_0x1cbd77[_0xbb5e15(0x267)]=_0x1cbd77[_0xbb5e15(0x267)][_0xbb5e15(0x23c)](_0x467321=>typeof _0x467321==='string'&&!_0x467321[_0xbb5e15(0x216)]('@')?_0x467321+'@s.whatsapp.net':_0x467321));for(let _0x341deb=0x0;_0x341deb<=_0x43260d;_0x341deb++){try{_0x1cbd77['ephemeralExpiration']||=0x0;const _0x2eddf0=_0x57fd6c(_0x3886d5,_0x1a8d88,_0x1cbd77),_0x19fb51=new Promise((_0x19222e,_0x35fcb0)=>setTimeout(()=>_0x35fcb0(new Error(_0xbb5e15(0x1e3))),0x30d40)),_0x2c8623=await Promise['race']([_0x2eddf0,_0x19fb51]);_0x2c8623?.[_0xbb5e15(0x23a)]?.['id']&&!_0x2c8623['key']['id'][_0xbb5e15(0x238)](_0xbb5e15(0x1fe))&&(_0x2c8623[_0xbb5e15(0x23a)]['id']=_0x2c8623[_0xbb5e15(0x23a)]['id']+_0xbb5e15(0x1fe));if(_0x25f8d3['sessionId'])try{const {updateSessionLastMessage:_0x52878d}=await import('../core/config.js');_0x52878d(_0x25f8d3[_0xbb5e15(0x277)]);}catch{}return logger[_0xbb5e15(0x255)](_0xbb5e15(0x1ea)+_0x3886d5),_0x2c8623;}catch(_0x3356c2){_0xfa49a6=_0x3356c2;if(_0x3356c2[_0xbb5e15(0x273)]?.['includes']('rate-overlimit')&&_0x1cbd77[_0xbb5e15(0x267)]){logger[_0xbb5e15(0x240)](_0xbb5e15(0x262)+_0x3886d5),delete _0x1cbd77[_0xbb5e15(0x267)];try{const _0x3aa716=await _0x57fd6c(_0x3886d5,_0x1a8d88,_0x1cbd77);if(_0x25f8d3[_0xbb5e15(0x277)])try{const {updateSessionLastMessage:_0x55c122}=await import('../core/config.js');_0x55c122(_0x25f8d3[_0xbb5e15(0x277)]);}catch{}return _0x3aa716;}catch(_0x2a4de1){_0xfa49a6=_0x2a4de1;}}const _0xbae2ce=[_0xbb5e15(0x25a),'not-authorized',_0xbb5e15(0x246),_0xbb5e15(0x1d4),_0xbb5e15(0x22b)],_0x21341f=_0xbae2ce[_0xbb5e15(0x228)](_0x39c543=>_0x3356c2[_0xbb5e15(0x273)]?.[_0xbb5e15(0x25f)]()[_0xbb5e15(0x216)](_0x39c543));if(_0x21341f){logger['error']('Non-retryable\x20error:\x20'+_0x3356c2['message']);throw _0x3356c2;}if(_0x341deb<_0x43260d){const _0x5f1ca6=(_0x341deb+0x1)*0x3e8;logger[_0xbb5e15(0x240)](_0xbb5e15(0x1df)+(_0x341deb+0x1)+_0xbb5e15(0x251)+_0x5f1ca6+'ms'),await sleep(_0x5f1ca6);continue;}logger[_0xbb5e15(0x244)](_0xbb5e15(0x1fd)+(_0x43260d+0x1)+_0xbb5e15(0x25e)+_0x3356c2[_0xbb5e15(0x273)]);throw _0x3356c2;}}throw _0xfa49a6||new Error('Unknown\x20sendMessage\x20error');};const _0x4736b2=_0x25f8d3[_0x28b703(0x1d7)]?.[_0x28b703(0x249)](_0x25f8d3);_0x25f8d3[_0x28b703(0x1d8)]=_0x4736b2;_0x4736b2&&(_0x25f8d3[_0x28b703(0x1d7)]=async _0x286b42=>{const {getGroupMetadata:_0x5791a1}=await import('../core/config.js');return await _0x5791a1(_0x25f8d3,_0x286b42,![]);},_0x25f8d3[_0x28b703(0x201)]=async _0x2bcf65=>{const _0x44e1b2=_0x28b703,{getGroupMetadata:_0x62d143}=await import(_0x44e1b2(0x21d));return await _0x62d143(_0x25f8d3,_0x2bcf65,!![]);});_0x25f8d3[_0x28b703(0x1e5)]=async _0xeee9ec=>_0x25f8d3['signalRepository']?.['lidMapping']?.[_0x28b703(0x20c)]?.(_0xeee9ec)||_0xeee9ec,_0x25f8d3[_0x28b703(0x225)]=async _0x39177d=>_0x25f8d3[_0x28b703(0x1ed)]?.[_0x28b703(0x276)]?.[_0x28b703(0x1e8)]?.(_0x39177d)||_0x39177d;const _0x562d72=(_0x25dd84,_0x59857e,_0x2178b5,_0x3de0e5={})=>async function(_0x584791,_0x1f0ca8,_0x565a7f='',_0x2c0c91={}){const _0x1d4059=_0x28b703;let _0x55000e=null;try{let _0x598c10=_0x1f0ca8;if(typeof _0x1f0ca8==='string'&&/^https?:\/\//[_0x1d4059(0x222)](_0x1f0ca8)){const _0xe626a6=await _0x5f5489[_0x1d4059(0x278)](_0x1f0ca8,{'responseType':_0x1d4059(0x230)});_0x598c10=Buffer['from'](_0xe626a6[_0x1d4059(0x1f4)]);}return _0x55000e=getTempFilePath(_0x25dd84,_0x59857e),_0x4ba07d[_0x1d4059(0x202)](_0x55000e,_0x598c10),await this['sendMessage'](_0x584791,{[_0x25dd84]:_0x4ba07d['readFileSync'](_0x55000e),'caption':_0x565a7f,..._0x3de0e5},{'quoted':_0x2c0c91[_0x1d4059(0x24f)]});}catch(_0x3e3a70){logger[_0x1d4059(0x244)](_0x25dd84+_0x1d4059(0x21b),_0x3e3a70[_0x1d4059(0x273)]);throw _0x3e3a70;}finally{if(_0x55000e)cleanupTempFile(_0x55000e);}};_0x25f8d3['sendImage']=_0x562d72('image',_0x28b703(0x219),'image/jpeg'),_0x25f8d3[_0x28b703(0x217)]=_0x562d72(_0x28b703(0x1f8),_0x28b703(0x226),'video/mp4',{'gifPlayback':![]}),_0x25f8d3['sendAudio']=_0x562d72(_0x28b703(0x206),_0x28b703(0x22c),_0x28b703(0x209),{'mimetype':_0x28b703(0x209),'ptt':![]}),_0x25f8d3[_0x28b703(0x208)]=async function(_0x4e4311,_0x18aef7,_0x20736a,_0x139f5b={}){const _0x37277b=_0x28b703;let _0x294716=null;try{let _0x4b94ba=_0x18aef7;if(typeof _0x18aef7==='string'&&/^https?:\/\//[_0x37277b(0x222)](_0x18aef7)){const _0x4d8b7b=await _0x5f5489[_0x37277b(0x278)](_0x18aef7,{'responseType':'arraybuffer'});_0x4b94ba=Buffer[_0x37277b(0x1f7)](_0x4d8b7b[_0x37277b(0x1f4)]);}const _0x5e57bb=await fileTypeFromBuffer(_0x4b94ba);return _0x294716=getTempFilePath(_0x37277b(0x208),'.'+(_0x5e57bb?.['ext']||_0x37277b(0x1dd))),_0x4ba07d[_0x37277b(0x202)](_0x294716,_0x4b94ba),await this[_0x37277b(0x236)](_0x4e4311,{'document':_0x4ba07d[_0x37277b(0x25d)](_0x294716),'mimetype':_0x139f5b['mimetype']||_0x5e57bb?.[_0x37277b(0x234)]||'application/octet-stream','fileName':_0x20736a},{'quoted':_0x139f5b[_0x37277b(0x24f)]});}catch(_0x2ad9f8){logger[_0x37277b(0x244)](_0x37277b(0x221),_0x2ad9f8[_0x37277b(0x273)]);throw _0x2ad9f8;}finally{if(_0x294716)cleanupTempFile(_0x294716);}};const _0x32d79b=_0x4c5f3b=>async function(_0x139a14,_0x316df1,_0x56f58a={}){const _0x3d6d79=_0x28b703;let _0x4ba644=null;try{let _0x418a44=_0x316df1;if(typeof _0x316df1===_0x3d6d79(0x258)&&/^https?:\/\//[_0x3d6d79(0x222)](_0x316df1)){const _0x4de1d8=await _0x5f5489[_0x3d6d79(0x278)](_0x316df1,{'responseType':_0x3d6d79(0x230)});_0x418a44=Buffer[_0x3d6d79(0x1f7)](_0x4de1d8['data']);}const _0x2cfe00=await _0x4c5f3b(_0x418a44);return _0x4ba644=getTempFilePath(_0x3d6d79(0x263),'.webp'),_0x4ba07d[_0x3d6d79(0x202)](_0x4ba644,_0x2cfe00),await this[_0x3d6d79(0x236)](_0x139a14,{'sticker':_0x4ba07d[_0x3d6d79(0x25d)](_0x4ba644)},{'quoted':_0x56f58a[_0x3d6d79(0x24f)]});}catch(_0x4afea2){logger['error'](_0x3d6d79(0x215),_0x4afea2['message']);throw _0x4afea2;}finally{if(_0x4ba644)cleanupTempFile(_0x4ba644);}};return _0x25f8d3[_0x28b703(0x229)]=_0x32d79b(image2webp),_0x25f8d3[_0x28b703(0x1f2)]=_0x32d79b(video2webp),_0x25f8d3['sendMediaAsSticker']=async function(_0x1eb0db,_0x7f13c6,_0x1e2e03={}){const _0xf44715=_0x28b703;let _0x49c76c=null;try{let _0x129e51=_0x7f13c6;if(typeof _0x7f13c6===_0xf44715(0x258)&&/^https?:\/\//[_0xf44715(0x222)](_0x7f13c6)){const _0x1c20aa=await _0x5f5489['get'](_0x7f13c6,{'responseType':_0xf44715(0x230)});_0x129e51=Buffer[_0xf44715(0x1f7)](_0x1c20aa[_0xf44715(0x1f4)]);}const _0x23ed63=await fileTypeFromBuffer(_0x129e51),_0x4e79f2=_0x23ed63?.[_0xf44715(0x234)]||'',_0x1da54e=_0x4e79f2['startsWith'](_0xf44715(0x260))||_0x4e79f2===_0xf44715(0x1fc)?await video2webp(_0x129e51):await image2webp(_0x129e51);return _0x49c76c=getTempFilePath('sticker',_0xf44715(0x1fb)),_0x4ba07d[_0xf44715(0x202)](_0x49c76c,_0x1da54e),await this[_0xf44715(0x236)](_0x1eb0db,{'sticker':_0x4ba07d[_0xf44715(0x25d)](_0x49c76c)},{'quoted':_0x1e2e03['quoted']});}catch(_0x3bc0ce){logger[_0xf44715(0x244)](_0xf44715(0x220),_0x3bc0ce[_0xf44715(0x273)]);throw _0x3bc0ce;}finally{if(_0x49c76c)cleanupTempFile(_0x49c76c);}},_0x25f8d3[_0x28b703(0x24d)]=async function(_0x42dac0,_0x275237,_0x3fe656={}){const _0x16250e=_0x28b703,{packName:packName=_0x16250e(0x241),packPublisher:packPublisher=_0x16250e(0x248),packDescription:packDescription=_0x16250e(0x248),quoted:quoted=null,concurrency:concurrency=0x5}=_0x3fe656;try{const _0x23dda7=await processStickersConcurrently(_0x275237,concurrency);if(!_0x23dda7[_0x16250e(0x270)])throw new Error('No\x20stickers\x20processed');const _0x3831b5={'stickerPack':{'name':packName,'publisher':packPublisher,'description':packDescription,'cover':_0x23dda7[0x0][_0x16250e(0x275)],'stickers':_0x23dda7[_0x16250e(0x23c)](_0x2e5293=>({'data':_0x2e5293[_0x16250e(0x275)],'emojis':_0x2e5293[_0x16250e(0x212)],'isAnimated':_0x2e5293[_0x16250e(0x243)],'accessibilityLabel':_0x2e5293[_0x16250e(0x237)]}))}},_0x4cdcfa=await this[_0x16250e(0x236)](_0x42dac0,_0x3831b5,{'quoted':quoted});return logger[_0x16250e(0x1e7)](_0x16250e(0x24a)+_0x23dda7[_0x16250e(0x270)]+'\x20stickers'),{'success':!![],'packName':packName,'totalStickersSent':_0x23dda7[_0x16250e(0x270)],'totalStickersRequested':_0x275237[_0x16250e(0x270)],'result':_0x4cdcfa};}catch(_0x51f5f5){logger[_0x16250e(0x244)](_0x16250e(0x27d),_0x51f5f5);throw _0x51f5f5;}},_0x25f8d3[_0x28b703(0x25b)]=async function(_0x452584,_0x382cd9){const _0x14fc7d=_0x28b703;return await this[_0x14fc7d(0x236)](_0x452584['chat']||_0x452584[_0x14fc7d(0x23a)][_0x14fc7d(0x1e1)],{'text':_0x382cd9},{'quoted':_0x452584});},_0x25f8d3[_0x28b703(0x1e9)]=async function(_0x22e06e,_0xc45679){const _0x96520=_0x28b703;return await this[_0x96520(0x236)](_0x22e06e[_0x96520(0x27c)]||_0x22e06e[_0x96520(0x23a)][_0x96520(0x1e1)],{'react':{'text':_0xc45679,'key':_0x22e06e[_0x96520(0x23a)]}});},_0x25f8d3['downloadMedia']=async _0x215fff=>{const _0x2fe291=_0x28b703;try{let _0x3adb73=_0x215fff;const _0x4fc07f=_0x215fff[_0x2fe291(0x273)]?.['imageMessage']||_0x215fff[_0x2fe291(0x273)]?.[_0x2fe291(0x265)]||_0x215fff[_0x2fe291(0x273)]?.[_0x2fe291(0x21a)]||_0x215fff[_0x2fe291(0x273)]?.[_0x2fe291(0x252)]||_0x215fff['message']?.[_0x2fe291(0x20d)];if(!_0x4fc07f&&_0x215fff[_0x2fe291(0x24f)]?.['message']){const _0xd7f210=_0x215fff[_0x2fe291(0x24f)][_0x2fe291(0x273)]?.[_0x2fe291(0x1d6)]||_0x215fff[_0x2fe291(0x24f)][_0x2fe291(0x273)]?.[_0x2fe291(0x265)]||_0x215fff[_0x2fe291(0x24f)]['message']?.[_0x2fe291(0x21a)]||_0x215fff[_0x2fe291(0x24f)][_0x2fe291(0x273)]?.['documentMessage']||_0x215fff[_0x2fe291(0x24f)][_0x2fe291(0x273)]?.[_0x2fe291(0x20d)];if(_0xd7f210)_0x3adb73=_0x215fff[_0x2fe291(0x24f)];}return await downloadMediaMessage(_0x3adb73,_0x2fe291(0x275),{},{'logger':console,'reuploadRequest':_0x25f8d3[_0x2fe291(0x27a)]});}catch(_0x495ffa){logger[_0x2fe291(0x244)](_0x2fe291(0x21f),_0x495ffa[_0x2fe291(0x273)]);throw _0x495ffa;}},_0x25f8d3[_0x28b703(0x23b)]=!![],logger[_0x28b703(0x1e7)](_0x28b703(0x1ee)),_0x25f8d3;}export default{'extendSocket':extendSocket};